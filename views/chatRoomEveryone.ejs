<!DOCTYPE html>
<html lang="hu">
  <%- include('partials/head.ejs') %>
<body>
  <div class="header">
    <%- include('partials/header.ejs') %>
    <h2>Chat rooms</h2>
  </div>
  <div>
    <form class="formText" name="search_form" method="POST" enctype="multipart/form-data" action="/messageUserList">
        <p>Search by name: <input type="text" name="userNameCriteria" placeholder="username"
            pattern="^[A-z ]*$" title="You can only insert letters in this field" class="formText inputText" ></p>
        <p><input class="inputSubmit" type="submit" value="Search"></p>
    </form>
  </div>
  <table>
    <tr>
      <th>UserName</th>
      <th>Messages</th>
    </tr>
    <% userData.forEach( (user) => { %>
    <tr id="parent<%= user.userName %>">
        <td><%= user.userName %></th>
        <td>
            <form action="/openChatroom/<%= user.userName %>" method="get">
                <input id="openChatroom" type="submit" value="Open chatroom">
            </form>
        </td>
    </tr>
    <% }); %>
  </table>
</body>
</html>